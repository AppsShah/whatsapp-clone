{"version":3,"sources":["firebase.js","chat/Chat.js","sidebar/SidebarChat.js","sidebar/Sidebar.js","Login/whatsapp.png","reducer.js","StateProvider.js","Login/Login.js","App.js","index.js"],"names":["firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","provider","GoogleAuthProvider","Chat","props","useState","input","setinput","state","setstate","roomName","setRoomName","roomId","useParams","message","setmessage","dataurl","setdataurl","e","a","preventDefault","file","target","files","storageRef","storage","ref","fileRef","child","name","put","getDownloadURL","useEffect","collection","doc","onSnapshot","snapshot","data","Math","floor","random","orderBy","docs","map","add","username","url","timestamp","FieldValue","serverTimestamp","className","Avatar","src","Date","length","toDate","toUTCString","IconButton","onSubmit","type","id","accept","onChange","style","display","for","onClick","console","log","value","msg","scrolling","frameborder","href","alert","download","placeholder","event","SidebarChat","prop","lastmsg","setlastmsg","to","createnewchat","prompt","Sidebar","rooms","setrooms","unsubscribe","imgurl","fontSize","room","actionTypes","reducer","action","user","StateContext","createContext","StateProvider","initialstate","children","Provider","useReducer","useStateValue","useContext","Login","dispatch","Logo","alt","Button","marginTop","textTransform","backgroundColor","color","signInWithPopup","then","result","catch","error","App","photoURL","path","displayName","ReactDOM","render","StrictMode","initialState","document","getElementById"],"mappings":"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","file":"static/js/main.a50b1575.chunk.js","sourcesContent":["// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nimport firebase from \"firebase\";\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDGBtif6xt9ZBQ94KgR-DVQRYoq52EJ7yk\",\r\n    authDomain: \"whatsapp-clone-7b9d5.firebaseapp.com\",\r\n    projectId: \"whatsapp-clone-7b9d5\",\r\n    storageBucket: \"whatsapp-clone-7b9d5.appspot.com\",\r\n    messagingSenderId: \"434250059040\",\r\n    appId: \"1:434250059040:web:f69c6c729675d5975a9b45\",\r\n    measurementId: \"G-P8EQ0XRDC0\"\r\n  };\r\n\r\n  const firebaseApp = firebase.initializeApp(firebaseConfig)\r\n  const db=firebase.firestore()\r\n  const auth=firebase.auth()\r\n  const provider=new firebase.auth.GoogleAuthProvider();\r\n\r\n  export {auth,provider,firebaseApp};\r\n  export default db;","import { Avatar,IconButton } from '@material-ui/core'\r\nimport SearchOutlined from '@material-ui/icons/SearchOutlined'\r\nimport MoreVert from '@material-ui/icons/MoreVert'\r\nimport AttachFile from '@material-ui/icons/AttachFile'\r\nimport React,{useEffect,useState} from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon'\r\nimport './chat.css'\r\nimport db,{firebaseApp} from '../firebase'\r\nimport firebase from 'firebase'\r\nimport GetAppRoundedIcon from '@material-ui/icons/GetAppRounded';\r\n// import queryString from 'query-string'\r\nfunction Chat(props) {\r\n    const [input,setinput]=useState('')\r\n    const [state, setstate] = useState('')\r\n    const [roomName,setRoomName]=useState(\"\")\r\n    const {roomId}=useParams();\r\n    const [message,setmessage]=useState([])\r\n    // let fileurl;\r\n    const [dataurl,setdataurl]=useState(null)\r\n    useEffect(()=>{\r\n        // console.log(roomId)\r\n        if(roomId){\r\n            db.collection('rooms').doc(roomId).onSnapshot(snapshot=>{\r\n                setRoomName(snapshot.data().name)\r\n            })\r\n\r\n            setstate(Math.floor(Math.random()*100))\r\n\r\n            db.collection('rooms').doc(roomId).collection(\"messages\").orderBy('timestamp',\"asc\").onSnapshot((snapshot)=>{\r\n                setmessage(snapshot.docs.map(doc=>doc.data()))\r\n            })  \r\n        \r\n        }\r\n    } ,[roomId])\r\n   \r\n    function sendMessage(event){\r\n        event.preventDefault()\r\n        // console.log(input)\r\n        db.collection('rooms').doc(roomId).collection('messages').add({\r\n            message:input,\r\n            name:props.username,\r\n            url:\"\",\r\n            timestamp:firebase.firestore.FieldValue.serverTimestamp()\r\n        })\r\n        setinput('')\r\n    }\r\n   async function onfilechange (e){\r\n       e.preventDefault()\r\n        const file=e.target.files[0]\r\n        const storageRef=firebaseApp.storage().ref()\r\n        const fileRef=storageRef.child(file.name)\r\n        await fileRef.put(file)\r\n        setdataurl(await fileRef.getDownloadURL()) \r\n    //    console.log(data._delegate.metadata.name)\r\n    //    console.log(queryString.parse(fileurl))\r\n    }\r\n    function deleteroom(e){\r\n        e.preventDefault()\r\n        console.log(e.target.value)\r\n    }\r\n        useEffect(()=>{\r\n                // if(roomId)\r\n                // {\r\n                //     db.collection('rooms').doc(roomId).collection(\"messages\").orderBy('timestamp',\"asc\").onSnapshot((snapshot)=>{\r\n                //         setmessage(snapshot.docs.map(doc=>doc.data()))\r\n                //     })  \r\n                // }\r\n                if(dataurl!=null)\r\n                {\r\n                        db.collection('rooms').doc(roomId).collection('messages').add({\r\n                            message:\"\",\r\n                            name:props.username,\r\n                            url:dataurl,\r\n                            timestamp:firebase.firestore.FieldValue.serverTimestamp()\r\n                        })\r\n                        // toogle=true\r\n                        // setdataurl('')\r\n                }\r\n                // console.log(dataurl)\r\n        },[dataurl])\r\n    return (\r\n        <div className=\"chat\"> \r\n            <div className=\"chat_header\">\r\n               <Avatar src={`https://avatars.dicebear.com/api/human/${state}.svg`}/>\r\n               <div className=\"chat_headerInfo\">\r\n                <h3>{roomName}</h3>\r\n                <p>{new Date(\r\n                    message[message.length-1]?.timestamp?.toDate()\r\n                ).toUTCString()}</p>\r\n                </div>\r\n                <div className=\"chat_headerRight\">\r\n            <IconButton>\r\n                <SearchOutlined />\r\n           </IconButton>\r\n           <form onSubmit={(e)=>e.preventDefault()}>\r\n                <IconButton type=\"submit\">\r\n           <input id=\"upload\" type=\"file\" accept=\"image/jpeg,image/gif,image/png,application/pdf,image/x-eps\" onChange={onfilechange} style={{display:\"none\"}}/>\r\n           <label for=\"upload\">\r\n               <AttachFile />\r\n           </label>\r\n           </IconButton>\r\n           </form>\r\n           <IconButton onClick={deleteroom}>\r\n                <MoreVert/>\r\n           </IconButton>\r\n\r\n               </div>\r\n            </div>\r\n            <div className=\"chat_body\">\r\n            {\r\n                message.map((msg)=>(\r\n                    <div className={`chat_messagebody ${msg.name=== props.username && 'chat_reciever'}`}>\r\n                    <span className=\"chat_name\">{msg.name}</span>\r\n                    {\r\n                    \r\n                      msg.url!==\"\"&&\r\n                        <iframe scrolling=\"no\" src={msg.url}frameborder=\"0\"></iframe>\r\n                    }\r\n                    {\r\n\r\n                      msg.url!==\"\"&&\r\n                      <a href={msg.url}\r\n                      onClick={(e)=>{\r\n                          e.preventDefault()\r\n                          alert(\"please download on next page\")\r\n                      }}>\r\n                         <IconButton download>\r\n                          <GetAppRoundedIcon />\r\n                      </IconButton> \r\n                      </a>\r\n                    }\r\n                    <p>{msg.message}</p>\r\n                <span className=\"chat_timestamp\">{\r\n                    new Date(msg.timestamp?.toDate()).toUTCString()\r\n                }</span>\r\n                    </div>\r\n                ))\r\n            }\r\n            </div>\r\n            <div className=\"chat_footer\">\r\n                <InsertEmoticonIcon />\r\n                <form>\r\n                    <input value={input} onChange={(e)=>{setinput(e.target.value)}}\r\n                    type=\"text\" placeholder=\"Type here\" />\r\n                    <button type=\"submit\" onClick={sendMessage}>Send</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","import { Avatar } from '@material-ui/core'\r\nimport React,{useState,useEffect} from 'react'\r\n// import useParams from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport './sidebarChat.css'\r\nimport db from '../firebase'\r\nfunction SidebarChat(prop) {\r\n    const [lastmsg,setlastmsg]=useState([])\r\n    const [random, setstate] = useState('');\r\n    // const {roomid}=useParams()\r\n    useEffect(() => {\r\n    setstate(Math.floor(Math.random()*100))\r\n    }, [])\r\n\r\n    useEffect(()=>{\r\n      if(prop.id)\r\n      {\r\n          db.collection('rooms').doc(prop.id).collection('messages').orderBy(\"timestamp\",\"desc\").onSnapshot(snapshot=>{\r\n            setlastmsg(snapshot.docs.map(doc=>doc.data()))\r\n          })\r\n      }\r\n    },[])\r\n    // const createChat = ()=>{}\r\n        return(\r\n            <Link to={`/rooms/${prop.id}`}>\r\n             <div className=\"sidebarChat\">\r\n               <Avatar src={`https://avatars.dicebear.com/api/human/${random}.svg`}/>\r\n               <div className=\"sidebarChat_info\">\r\n                   <h2>{prop.name}</h2>\r\n                   <p>{lastmsg[0]?.message}</p>\r\n               </div>\r\n               </div>\r\n            </Link>\r\n        )\r\n\r\n}\r\n\r\nexport default SidebarChat\r\n","import React,{useState,useEffect} from 'react'\r\nimport './sidebar.css'\r\nimport {Avatar,IconButton} from \"@material-ui/core\"\r\nimport DonutLargeIcon from \"@material-ui/icons/DonutLarge\"\r\nimport ChatIcon from '@material-ui/icons/Chat'\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert'\r\nimport SearchOutlined from '@material-ui/icons/SearchOutlined'\r\nimport SidebarChat from './SidebarChat'\r\nimport './sidebarChat.css'\r\nimport db from \"../firebase\"\r\nfunction createnewchat(){\r\n  const roomName=prompt(\"Create New Chat\")\r\n  if(roomName){\r\n    // //do something\r\n    db.collection('rooms').add({\r\n      name: roomName,\r\n    })\r\n  }\r\n}\r\nfunction Sidebar(props) {\r\n  const [rooms, setrooms] = useState([])\r\n// let name=\"\";\r\nuseEffect(() => {\r\n  const unsubscribe=db.collection(\"rooms\").onSnapshot((snapshot)=>\r\n  setrooms(\r\n    snapshot.docs.map(doc=>({\r\n      id:doc.id,\r\n      data:doc.data(),\r\n    }))\r\n  )\r\n)\r\n    return()=>{\r\n      unsubscribe()\r\n    }\r\n},[])\r\n  return (\r\n    <>\r\n     <div className=\"sidebar\">\r\n       <div className=\"sidebar_header\">\r\n         <Avatar src={props.imgurl}></Avatar>\r\n         <div className=\"side_headerRight\">\r\n           <IconButton>\r\n           <DonutLargeIcon fontSize=\"small\"/>\r\n           </IconButton>\r\n           <IconButton onClick={createnewchat}>\r\n            <ChatIcon fontSize=\"small\"\r\n            />\r\n           </IconButton>\r\n           <IconButton>\r\n           <MoreVertIcon fontSize=\"small\"/>\r\n           </IconButton>\r\n         </div>\r\n       </div>\r\n       <div className=\"sidebar_search\">\r\n         <div className=\"sidebar_searchContainer\">\r\n         <SearchOutlined />\r\n         <input placeholder=\"search Chat\" type=\"text\" />\r\n         </div>\r\n       </div>\r\n       <div>\r\n         </div>\r\n       <div className=\"sidebar_chats\">\r\n          {/* <div className=\"sidebarChat\" onClick={createnewchat}>\r\n            <h2>Add New Chat</h2>\r\n          </div> */}\r\n            {\r\n                 rooms.map(room=>(\r\n                  <SidebarChat key={room.id} id={room.id} name={room.data.name}></SidebarChat>\r\n                ))\r\n            }\r\n       </div>\r\n     </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Sidebar;\r\n","export default __webpack_public_path__ + \"static/media/whatsapp.965d92ce.png\";","export const initialState={\r\n    user: null,\r\n}\r\n\r\nexport const actionTypes={\r\n    SET_USER: \"SET_USER\",\r\n};\r\n\r\nconst reducer=(state,action)=>{\r\n    // console.log(action);\r\n    switch(action.type){\r\n        case actionTypes.SET_USER:\r\n        return{\r\n            ...state,\r\n            user:action.user\r\n        };\r\n    default:\r\n        return state;\r\n    }\r\n};\r\n\r\nexport default reducer;","import React,{createContext,useReducer,useContext} from 'react'\r\n\r\nexport const StateContext=createContext();\r\n\r\nexport const StateProvider=({reducer,initialstate,children})=>(\r\n    <StateContext.Provider value={useReducer(reducer,initialstate)}>\r\n        {children}\r\n    </StateContext.Provider>\r\n);\r\n\r\nexport const useStateValue = ()=>useContext(StateContext);\r\n","import { Button } from '@material-ui/core'\r\nimport React from 'react'\r\nimport './login.css'\r\nimport Logo from './whatsapp.png'\r\nimport {auth, provider} from \"../firebase\"\r\nimport {actionTypes} from \"../reducer\"\r\nimport { useStateValue } from \"../StateProvider\"\r\nfunction Login() {\r\nconst [user,dispatch]=useStateValue();\r\n    function signIn(){\r\n        auth.signInWithPopup(provider).then((result)=>{\r\n            dispatch({\r\n                type:actionTypes.SET_USER,\r\n                user:result.user,\r\n            })    \r\n        })\r\n        .catch((error)=>alert(error.message))\r\n     }\r\n    return (\r\n    <>\r\n    <div className=\"login\">\r\n        <div className=\"login_container\">\r\n                <img src={Logo} alt=\"\"\r\n                />\r\n                <div className=\"login_text\">\r\n                <h1>Sign in to Whatsapp-clone</h1>\r\n                </div>\r\n                <div>\r\n                <Button style={{marginTop:\"50px\",\r\n                textTransform:\"inherit  !important\",\r\n                backgroundColor:\"#0a8d48\",\r\n                color:\"white\"}} onClick={signIn}>Sign In With Google</Button>\r\n                </div>\r\n            </div>\r\n    </div>\r\n    </>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react';\nimport './App.css';\nimport Chat from './chat/Chat'\nimport Sidebar from './sidebar/Sidebar'\nimport {BrowserRouter as Router,Switch,Route} from 'react-router-dom'\nimport Login from './Login/Login'\nimport { useStateValue } from './StateProvider';\n\n// const obj={\n//   name:\"akshat\",\n//   dream:\"dev\",\n//   object:{\n//     name1:\"akki\",\n//     name2:\"devanshi\"\n//   }\n// }\nfunction App() {\n  const [user]=useStateValue()\n  // console.log(user)\n  \n  // const [user,setUser]=useState(null)\n  if(user==null){\n    return(<div className=\"app\">\n        <Login/>\n    </div>)\n  }\n  else{\n    return (\n      <>\n      <div className=\"app\">\n        <div className=\"app_body\">\n           <Router>\n                    <Sidebar imgurl={user.user.photoURL}/>\n             <Switch>\n             <Route path=\"/rooms/:roomId\">\n                  {/* <Sidebar /> */}\n                  <Chat username={user.user.displayName}/>\n              </Route>\n                  <Route path=\"/app\">\n                    {/* <Sidebar /> */}\n                    <Chat />\n                </Route>\n               <Route path=\"/\">\n                    {/* <Sidebar /> */}\n                    <Chat />\n               </Route>\n             </Switch>\n           </Router>\n        </div>\n      </div>\n      </>\n  );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reducer,{initialState} from './reducer'\nimport {StateProvider} from './StateProvider'\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n    <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n// reportWebVitals();\n"],"sourceRoot":""}